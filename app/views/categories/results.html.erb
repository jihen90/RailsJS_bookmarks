<div class= 'py-3'>
    <h5>Search by category</h5>
    <%= form_tag results_path, :method => 'get' do %>    
    <%= select_tag(:category_id, options_for_select(Category.pluck(:name, :id) ,:selected =>params[:option]), onchange: 'this.form.submit();', class: "form-control custom-select" , include_blank: true) %>  
    <% end %>
</div>

<br>
<table class="table table-striped table-bordered table-hover">
    <thead>
        <tr>
            <th>Name</th>
            <th>Visibility</th>
            <th>Main category</th>
            <th>Subcategory</th>
            <th colspan="3"></th>
        </tr>
    </thead>

    <tbody id="categories">
        <% @categories.each do |category| %>
            <tr>
            <td><%= category.name %></td>
            <td><%= category.visibility %></td>
            <td> </td>
            <td><%= category.findrelative(@categories) %></td>
            <td><%= link_to 'Show', category, class: 'btn btn-info' %></td>
            <td><%= link_to 'Edit', edit_category_path(category), class: 'btn btn-warning' %></td>
            <td><%= link_to 'Destroy', category, method: :delete, class: 'btn btn-danger', data: {confirm: '¿Quieres eliminar la categoría'} %></td>
            </tr>
        <% end %>
    </tbody>
</table>

<div class="py-3">
<%= link_to 'Back to Categories', categories_path, class: 'btn btn-dark' %>
<%= link_to 'Go to Bookmarks', bookmarks_path, class: 'btn btn-light' %>
</div>